[pytest]
# Configuração do pytest para o projeto EMU65
# ==========================================

# Diretórios de teste
testpaths = tests

# Padrões de arquivos de teste
python_files = test_*.py *_test.py

# Padrões de classes de teste
python_classes = Test* *Tests

# Padrões de métodos de teste
python_functions = test_*

# Marcadores personalizados
markers =
    unit: Testes unitários rápidos
    integration: Testes de integração mais lentos
    slow: Testes que demoram para executar
    lcd: Testes relacionados ao LCD
    via: Testes relacionados ao VIA
    cpu: Testes relacionados ao CPU
    gui: Testes da interface gráfica
    debug: Testes de debug e depuração

# Opções padrão
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# Configuração de captura de output
console_output_style = progress

# Configuração de logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Diretórios a ignorar
norecursedirs =
    build
    dist
    .git
    .pytest_cache
    __pycache__
    .vscode
    docs
    lib

# Configuração de coverage (se instalado)
# Para usar: pip install pytest-cov
# Depois: pytest --cov=python_bindings
# [tool:pytest-cov]
# coverage_report = term-missing
# coverage_fail_under = 70
